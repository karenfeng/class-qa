{% extends "base.html" %}
{% load bootstrap3 %}

{% block content %}
<h2>User information</h2>

<span class="bold">NetID:</span> {{ user.netid }}<br>
<span class="bold">Name:</span> {{ user.first_name }} {{ user.last_name }}<br>
<span class="bold">Role:</span>
{% if user.is_student %}
	Student
{% else %}
	Lecturer
{% endif %}
<br>
<span class="bold">Courses:</span>
<ul>
{% for course in courses %}
	<li>
		<div class="box row">
			<div class="col-xs-1">
				<form action="{% url 'quailapp:userinfo' %}" method="POST">
					{% csrf_token %}
					<button class="btn btn-link btn-link-red" type="submit" name="courseid" id="unenroll{{ forloop.counter }}" value="{{ course.id }}">
						{% bootstrap_icon "remove" %}
					</button>
				</form>
			</div>
			<div class="col-xs-11">
				<a href="{% url 'quailapp:coursepage' course.id %}"> {{ course }} </a>
			</div>
		</div>
	</li>
{% endfor %}
</ul>
<h4><a href="{% url 'quailapp:enroll' %}">Enroll in more courses</a></h4>
<br>
<span class="bold">Your Questions:</span>
<ul>
{% for q in user.question_set.all %}
	<li>
		<div class="box row">
			<a href="{% url 'quailapp:detail' q.id %}" class="question-box">
				<div class="col-xs-1">
					{% buttons %}
					<div class="btn-group-vertical btn-group-sm" role="group">
						<button class="btn btn-link disabled" name="vote" id="upvote">
							{% bootstrap_icon "chevron-up" %}
						</button>
						<div class="centered votes">{{ q.votes }}</div>
						<button class="btn btn-link disabled" name="vote" id="downvote">
							{% bootstrap_icon "chevron-down" %}
						</button>
					</div>
					{% endbuttons %}
				</div>
				<div class="col-xs-10">
					<p class="question">
						{{ q.text }}<br>
						<span class="unemph">{{ q.created_on }}</span>
					</p>
				</div>
				<div class="col-xs-1">
					<form action="{% url 'quailapp:delete_from_userinfo' q.id %}" method="POST">
						{% csrf_token %}
							<button type="submit" class="btn btn-link btn-link-red right">
								{% bootstrap_icon "remove" %}
							</button>
					</form>
				</div>
			</a>
		</div>
	</li>
{% endfor %}
</ul>

{% endblock %}